<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Coração Animado</title>
  <style>
    /* Reset simples */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html,body { height: 100%; }

    /* Fundo bonito */
    body{
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:100vh;
      background: radial-gradient(1200px 600px at 10% 20%, #ffecd2 0%, transparent 10%),
                  linear-gradient(135deg, #2b5876 0%, #4e4376 100%);
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      overflow:hidden;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* Container central */
    .stage{
      text-align:center;
      padding: 36px;
      border-radius: 20px;
      backdrop-filter: blur(6px) saturate(120%);
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      box-shadow: 0 12px 40px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.02);
      transform: translateZ(0);
    }

    h1 {
      color: rgba(255,255,255,0.92);
      font-size: 20px;
      margin-bottom: 18px;
      letter-spacing: .6px;
    }

    /* O coração SVG */
    .heart {
      width: 220px;
      height: 220px;
      margin: 0 auto 10px;
      display:block;
      cursor: pointer;
      filter: drop-shadow(0 12px 20px rgba(255,50,120,0.12));
      transition: transform .2s ease;
    }

    /* Pulsação principal */
    .pulse {
      animation: pulse 1.1s ease-in-out infinite;
      transform-origin: 50% 55%;
    }

    @keyframes pulse {
      0%   { transform: scale(1); filter: drop-shadow(0 10px 16px rgba(255,40,120,0.14)); }
      30%  { transform: scale(1.08); filter: drop-shadow(0 18px 28px rgba(255,50,140,0.18)); }
      60%  { transform: scale(0.98); }
      100% { transform: scale(1); }
    }

    /* Sutil rotação e brilho */
    .shine {
      animation: shine 3.6s linear infinite;
      transform-origin: 50% 50%;
      opacity: .9;
    }
    @keyframes shine {
      0% { transform: rotate(0deg); opacity:.95; }
      50% { transform: rotate(-3deg); opacity:.8; }
      100% { transform: rotate(0deg); opacity:.95; }
    }

    /* Texto pequeno */
    .info { color: rgba(255,255,255,0.78); font-size: 13px; margin-top: 8px; }

    /* Floating hearts (criados por JS) */
    .floating-heart {
      position: fixed;
      width: 36px;
      height: 36px;
      pointer-events: none;
      will-change: transform, opacity;
      z-index: 9999;
      transform-origin: center;
      animation: floatUp 2.4s cubic-bezier(.22,.9,.38,1) forwards;
    }

    @keyframes floatUp {
      0%   { transform: translateY(0) scale(1) rotate(0deg); opacity:1; }
      30%  { transform: translateY(-40px) scale(1.12) rotate(8deg); opacity:0.98; }
      70%  { transform: translateY(-140px) scale(0.95) rotate(-8deg); opacity:0.6; }
      100% { transform: translateY(-240px) scale(0.6) rotate(-20deg); opacity:0; }
    }

    /* Heart SVG styles inside floating-heart */
    .floating-heart svg { width:100%; height:100%; display:block; }

    /* Responsividade */
    @media (max-width:420px){
      .heart { width:160px; height:160px; }
      .floating-heart { width:28px; height:28px; }
    }
  </style>
</head>
<body>
  <main class="stage" role="main" aria-label="Coração animado">
    <h1>Clique no coração ❤️</h1>

    <!-- SVG principal (mais bonito e com gradiente) -->
    <svg class="heart pulse shine" viewBox="0 0 100 100" role="img" aria-hidden="false" tabindex="0" title="Coração animado">
      <defs>
        <linearGradient id="g1" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" stop-color="#ff6a88"/>
          <stop offset="50%" stop-color="#ff99ac"/>
          <stop offset="100%" stop-color="#ffc3a0"/>
        </linearGradient>
        <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur stdDeviation="3.2" result="coloredBlur"/>
          <feMerge>
            <feMergeNode in="coloredBlur"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
      </defs>

      <!-- shape do coração -->
      <path d="M50 88 L32 72 C14 56 6 40 22 26 C34 14 50 26 50 26 C50 26 66 14 78 26 C94 40 86 56 68 72 L50 88 Z"
            fill="url(#g1)" stroke="rgba(255,255,255,0.12)" stroke-width="0.8"
            style="filter: url(#glow);">
      </path>

      <!-- highlight suave -->
      <path d="M50 34 C46 30 40 30 36 34 C32 38 33 44 38 48 C42 51 46 48 50 46 C54 44 58 42 62 40 C66 38 66 36 62 34 C58 32 54 34 50 34 Z"
            fill="rgba(255,255,255,0.18)"/>
    </svg>

    <div class="info">Clique ou toque no coração para espalhar corações animados ✨</div>
  </main>

  <script>
    // POP: função para criar corações flutuantes na tela
    (function () {
      const colors = [
        'rgba(255,105,135,1)',
        'rgba(255,130,150,0.98)',
        'rgba(255,160,170,0.96)',
        'rgba(255,200,190,0.92)'
      ];

      // SVG string para cada coração flutuante (pequeno)
      const smallHeartSVG = (fill) => `
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 21s-7-4.9-9-8.1C-1 7.6 4.2 2.9 7.6 5.5 9.1 6.6 10 8 12 9.8c2-1.8 2.9-3.2 4.4-4.3C19.8 2.9 25 7.6 21 12.9 19 16.1 12 21 12 21z"
                fill="${fill}"/>
        </svg>`;

      // cria e anima um coração flutuante na posição x,y
      function spawnFloatingHeart(x, y) {
        const el = document.createElement('div');
        el.className = 'floating-heart';
        const color = colors[Math.floor(Math.random() * colors.length)];
        el.innerHTML = smallHeartSVG(color);

        // posição inicial (ajusta para o centro do elemento)
        el.style.left = (x - 18) + 'px';
        el.style.top  = (y - 18) + 'px';

        // variações aleatórias
        const scale = (Math.random() * 0.6) + 0.7;
        el.style.transform = `scale(${scale})`;

        document.body.appendChild(el);

        // remover depois da anim
        el.addEventListener('animationend', () => el.remove());
      }

      // ao clicar no SVG principal: spawn multiple hearts
      const heartMain = document.querySelector('.heart');
      heartMain.addEventListener('click', (e) => {
        const rect = heartMain.getBoundingClientRect();
        // spawn hearts partindo do centro do coração
        const startX = rect.left + rect.width / 2;
        const startY = rect.top + rect.height / 2;

        // gera 6 corações com pequeno delay
        for (let i = 0; i < 7; i++) {
          setTimeout(() => {
            // pequena aleatoriedade na posição inicial
            const jitterX = startX + (Math.random() - 0.5) * 40;
            const jitterY = startY + (Math.random() - 0.5) * 20;
            spawnFloatingHeart(jitterX, jitterY);
          }, i * 80);
        }

        // efeito de "burst" no próprio coração (um pulso extra)
        heartMain.style.transition = 'transform .18s ease';
        heartMain.style.transform = 'scale(1.14)';
        setTimeout(() => heartMain.style.transform = '', 160);
      });

      // Spawn suave de corações aleatórios no fundo (decorativo)
      function randomSpawn() {
        // 50% chance a cada 1.5s de spawn
        if (Math.random() < 0.45) {
          const x = Math.random() * window.innerWidth;
          const y = window.innerHeight - (Math.random() * 160) - 80; // perto da parte inferior
          spawnFloatingHeart(x, y);
        }
      }
      setInterval(randomSpawn, 1500);

      // Acessibilidade: tecla Enter / Espaço aciona clique quando foco no SVG
      heartMain.addEventListener('keydown', (ev) => {
        if (ev.key === 'Enter' || ev.key === ' ') {
          ev.preventDefault();
          heartMain.click();
        }
      });

      // melhora comportamento em mobile: on touch spawn direct
      heartMain.addEventListener('touchstart', (ev) => {
        // evita múltiplos disparos por evento de toque
        ev.preventDefault();
        heartMain.click();
      }, {passive:false});
    })();
  </script>
</body>
</html>
